(function(e){function t(t){for(var n,c,s=t[0],u=t[1],i=t[2],l=0,p=[];l<s.length;l++)c=s[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,i||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,c=1;c<r.length;c++){var u=r[c];0!==o[u]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a=[];function c(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"54eedf4a"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r=o[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=n);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(e);var i=new Error;a=function(t){u.onerror=u.onload=null,clearTimeout(l);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",i.name="ChunkLoadError",i.type=n,i.request=a,r[1](i)}o[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var d=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),o={class:"flex flex-col font-avenir antialiased grayscale min-h-screen bg-charcoal text-snow"},a={class:"flex-1 p-30 px-4 py-20 pt-10"},c=Object(n["g"])("footer",{class:"border-t border-gray-500 text-center p-4"},[Object(n["g"])("span",{class:"block"},"Â© allu 2020")],-1);function s(e,t,r,s,u,i){var l=Object(n["y"])("AppHeader"),d=Object(n["y"])("router-view");return Object(n["q"])(),Object(n["d"])("div",o,[Object(n["g"])(l),Object(n["g"])("main",a,[Object(n["g"])(d)]),c])}r("a4d3"),r("e01a"),r("d3b7"),r("96cf");var u=r("1da1"),i=r("bc3a"),l=r.n(i),d=Symbol("store");function p(){var e=Object(n["u"])({session:null,todos:[]});function t(e,t){return r.apply(this,arguments)}function r(){return r=Object(u["a"])(regeneratorRuntime.mark((function t(r,n){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o={error:null},t.prev=1,t.next=4,l.a.post("/api/auth/".concat(r),n);case 4:return a=t.sent,e.session=a.data,t.next=8,i();case 8:return t.abrupt("return",o);case 11:if(t.prev=11,t.t0=t["catch"](1),console.log(t.t0),!t.t0.response){t.next=17;break}return o.error=t.t0.response.data.error,t.abrupt("return",o);case 17:case"end":return t.stop()}}),t,null,[[1,11]])}))),r.apply(this,arguments)}function o(){return a.apply(this,arguments)}function a(){return a=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post("/api/auth/signout",{});case 3:e.session=null,e.todos=[],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),a.apply(this,arguments)}function c(){return s.apply(this,arguments)}function s(){return s=Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("/api/auth/currentuser");case 3:r=t.sent,e.session=r.data.currentUser,r.data.currentUser&&i(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),s.apply(this,arguments)}function i(){return d.apply(this,arguments)}function d(){return d=Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/api/todos");case 2:r=t.sent,e.todos=r.data;case 4:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(e){return b.apply(this,arguments)}function b(){return b=Object(u["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.post("/api/todos",{title:r});case 2:n=t.sent,e.todos=n.data;case 4:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return m=Object(u["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.delete("/api/todos/".concat(r));case 2:n=t.sent,e.todos=n.data;case 4:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function g(e,t,r){return j.apply(this,arguments)}function j(){return j=Object(u["a"])(regeneratorRuntime.mark((function t(r,n,o){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(o),t.next=3,l.a.put("/api/todos/".concat(r),{title:n,completed:o});case 3:a=t.sent,e.todos=a.data;case 5:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}return{authenticate:t,logout:o,fetchSession:c,fetchTodos:i,addNewTodo:p,deleteTodo:f,markTodoComplete:g,state:Object(n["v"])(e)}}var b=function(){return Object(n["k"])(d)},f={class:"flex justify-between items-center p-4 md:p-8"},m=Object(n["g"])("span",{class:"font-black text-2xl"}," Todo.app ",-1);function g(e,t,r,o,a,c){return Object(n["q"])(),Object(n["d"])("header",f,[m,o.store.state.session?(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:t[1]||(t[1]=function(){var e;return(e=o.store).logout.apply(e,arguments)}),class:"font-black"}," Logout "+Object(n["A"])(o.store.state.session.username),1)):Object(n["e"])("",!0)])}var j={setup:function(){var e=b();return{store:e}}};j.render=g;var h=j,O={components:{AppHeader:h},setup:function(){var e=b();return Object(n["o"])((function(){console.log("APP_MOUNTED"),e.fetchSession()})),{store:e}}};O.render=s;var v=O,y=r("6c02");function x(e,t,r,o,a,c){var s=Object(n["y"])("AuthForm"),u=Object(n["y"])("Todos");return Object(n["q"])(),Object(n["d"])("div",null,[o.store.state.session?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])(s,{key:0})),o.store.state.session?(Object(n["q"])(),Object(n["d"])(u,{key:1})):Object(n["e"])("",!0)])}var w={class:"max-w-md mx-auto"},k=Object(n["g"])("h1",{class:"text-center mb-10 text-xl md:text-2xl font-extrabold"}," Sign in or register new account ",-1),q={class:"flex justify-evenly pb-6"},T=Object(n["g"])("label",{class:"sr-only",for:"username"},"Username",-1),S=Object(n["g"])("label",{class:"sr-only",for:"password"},"Password",-1),R={key:0},A={key:1},C={key:0,class:"text-salsa pt-6 flex justify-center items-center"};function M(e,t,r,o,a,c){var s=Object(n["y"])("hollow-dots-spinner"),u=Object(n["y"])("font-awesome-icon");return Object(n["q"])(),Object(n["d"])("div",w,[k,Object(n["g"])("div",q,[Object(n["g"])("button",{onClick:t[1]||(t[1]=function(){return o.handleToggle("signin")}),class:["focus:outline-none border-b-2 border-transparent pb-1",{toggleSelected:"signin"===o.form.authMethod}]}," Sign in ",2),Object(n["g"])("button",{onClick:t[2]||(t[2]=function(){return o.handleToggle("signup")}),class:["focus:outline-none border-b-2 border-transparent pb-1",{toggleSelected:"signup"===o.form.authMethod}]}," Register ",2)]),Object(n["g"])("form",{onSubmit:t[5]||(t[5]=function(){return o.handleSubmit.apply(o,arguments)})},[T,Object(n["E"])(Object(n["g"])("input",{class:"text-md appearance-none rounded-t-md block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-aquamarine focus:border-aquamarine focus:z-10",placeholder:"Username",type:"text",name:"username","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.form.username=e})},null,512),[[n["C"],o.form.username]]),S,Object(n["E"])(Object(n["g"])("input",{class:"text-md mb-8 appearance-none rounded-b-md block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-aquamarine focus:border-aquamarine focus:z-10",placeholder:"Password",type:"password",name:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.form.password=e})},null,512),[[n["C"],o.form.password]]),Object(n["g"])("button",{type:"submit",disabled:o.submitIsDisabled(),class:[{disabled:o.submitIsDisabled()},"h-9 flex justify-center items-center font-bold w-full py-2 px-4 border border-transparent text-sm font-medium rounded-md bg-aquamarine-2 hover:bg-aquamarine-3 focus:bg-aquamarine-3 active:bg-aquamarine-4 focus:outline-none"]},[o.form.loading?(Object(n["q"])(),Object(n["d"])("span",R,[Object(n["g"])(s,{"animation-duration":500,"dot-size":10,"dots-num":3,color:"white"})])):(Object(n["q"])(),Object(n["d"])("span",A,Object(n["A"])("signup"===o.form.authMethod?"Register":"Sign in"),1))],10,["disabled"]),o.form.error?(Object(n["q"])(),Object(n["d"])("div",C,[Object(n["g"])(u,{icon:"exclamation-circle",class:"mr-2"}),Object(n["f"])(" "+Object(n["A"])(o.form.error),1)])):Object(n["e"])("",!0)],32)])}var P=r("4583"),D={name:"AuthForm",components:{HollowDotsSpinner:P["a"]},setup:function(){var e=b(),t=Object(n["u"])({authMethod:"signin",username:"",password:"",error:null,loading:!1});function r(e){t.authMethod=e,t.username="",t.password=""}function o(){return!t.username&&!t.password}function a(e){return c.apply(this,arguments)}function c(){return c=Object(u["a"])(regeneratorRuntime.mark((function r(n){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.preventDefault(),t.loading=!0,t.error=null,r.next=5,e.authenticate(t.authMethod,{username:t.username,password:t.password});case 5:o=r.sent,o.error&&(t.loading=!1,t.error=o.error);case 7:case"end":return r.stop()}}),r)}))),c.apply(this,arguments)}return{store:e,form:t,handleSubmit:a,handleToggle:r,submitIsDisabled:o}}};D.render=M;var I=D,U={class:"max-w-xl mx-auto"};function E(e,t,r,o,a,c){var s=Object(n["y"])("AddTodoForm"),u=Object(n["y"])("TodosList");return Object(n["q"])(),Object(n["d"])("div",U,[Object(n["g"])(s),Object(n["g"])(u)])}var _={id:"form-left",class:"flex-1"},L=Object(n["g"])("label",{for:"todo",class:"font-bold ml-1"},"Add Todo",-1),F={class:"flex items-stretch pt-1"},z=Object(n["g"])("button",{type:"submit",class:"primary ml-4"},"Add",-1),H=Object(n["g"])("div",{id:"form-right",class:"flex-1"},null,-1);function N(e,t,r,o,a,c){return Object(n["q"])(),Object(n["d"])("form",{onSubmit:t[2]||(t[2]=function(){return o.handleSubmit.apply(o,arguments)}),class:"flex"},[Object(n["g"])("div",_,[L,Object(n["g"])("div",F,[Object(n["E"])(Object(n["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.todo.title=e}),type:"text",name:"todo",class:"flex-1 px-2 text-md appearance-none rounded-md border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-aquamarine focus:border-aquamarine focus:z-10"},null,512),[[n["C"],o.todo.title]]),z])]),H],32)}var V={setup:function(){var e=b(),t=Object(n["u"])({title:""});function r(r){r.preventDefault(),e.addNewTodo(t.title),t.title=""}return{todo:t,handleSubmit:r,store:e}}};V.render=N;var B=V,J={class:"pt-10 flex flex-col space-y-4"};function G(e,t,r,o,a,c){var s=Object(n["y"])("TodoItem");return Object(n["q"])(),Object(n["d"])("div",J,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["x"])(o.store.state.todos,(function(e){return Object(n["q"])(),Object(n["d"])(s,{key:e.id,todo:e},null,8,["todo"])})),128))])}var K={class:"relative flex items-center py-4 px-4"},Q={class:"flex flex-col justify-center items-start"},W={class:"flex items-center"};function X(e,t,r,o,a,c){var s=Object(n["y"])("font-awesome-icon");return Object(n["q"])(),Object(n["d"])("div",{class:"`relative rounded bg-queenBlue-2 shadow",style:{opacity:r.todo.completed?".65":"1"}},[Object(n["g"])("div",K,[Object(n["g"])("div",Q,[Object(n["g"])("input",{type:"checkbox",checked:!!r.todo.completed,onChange:t[1]||(t[1]=function(){return o.handleMarkCompleted.apply(o,arguments)}),class:"cursor-pointer h-5 w-5 border-gray-300 rounded"},null,40,["checked"])]),Object(n["g"])("p",{class:"flex-1 text-center font-medium text-lg px-4",style:{textDecoration:r.todo.completed?"line-through":"initial"}},Object(n["A"])(r.todo.title),5),Object(n["g"])("div",W,[Object(n["g"])("button",{onClick:t[2]||(t[2]=function(){return o.store.deleteTodo(r.todo.id)}),class:"text-lg hover:bg-queenBlue rounded-md flex justify-center items-center py-1 px-2"},[Object(n["g"])(s,{icon:"times"})])])])],4)}var Y={name:"TodoItem",props:{todo:Object},setup:function(e){var t=e.todo,r=b(),o=Object(n["u"])({completed:t.completed});function a(){o.completed=!o.completed,r.markTodoComplete(t.id,t.title,o.completed)}return{store:r,handleMarkCompleted:a}}};Y.render=X;var Z=Y,$={name:"TodosList",components:{TodoItem:Z},setup:function(){var e=b();return{store:e}}};$.render=G;var ee=$,te={name:"Todos",components:{AddTodoForm:B,TodosList:ee},setup:function(){var e=b();return{store:e}}};te.render=E;var re=te,ne={name:"Index",components:{AuthForm:I,Todos:re},setup:function(){var e=b();return{store:e}}};ne.render=x;var oe=ne,ae=[{path:"/",name:"Index",component:oe},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}}],ce=Object(y["a"])({history:Object(y["b"])("/"),routes:ae}),se=ce,ue=r("ecee"),ie=r("c074"),le=r("ad3d");r("a766");ue["c"].add(ie["a"],ie["b"]);var de=Object(n["c"])(v);de.provide(d,p()),de.component("font-awesome-icon",le["a"]),de.use(se),de.mount("#app")},a766:function(e,t,r){}});
//# sourceMappingURL=app.f8395d7b.js.map